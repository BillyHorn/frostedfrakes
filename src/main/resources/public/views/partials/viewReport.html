<div class="container">
  <form name="reportForm" class="editReportForm col-md-offset-3 col-md-6" ng-submit="submitForm(reportForm.$valid)" novalidate>
    <fieldset class="form-group">
      <label for="projectName">Project Name </label>
      <select class="form-control" name="projectName" id="inputProjectName" data-ng-init="selectedProject = projects[index]" ng-model="selectedProject" ng-options="project as project.name for project in projects">  </select>
    </fieldset>
    <fieldset class="form-group">
      <label for="dev"> Submitter </label> <!-- TODO change to a label since this is never editable @mKness -->
      <input type="text" class="form-control" ng-model="report.dev.email" id="inputState" readonly>
    </fieldset>
    <fieldset class="form-group">
      <label for="state"> State </label>
      <input type="text" class="form-control" ng-model="state" id="inputState" readonly>
    </fieldset>
    <fieldset class="form-group" ng-show="report.state == 3"> <!-- only show if rejected -->
      <label for="rejectionNotes"> Rejection Notes </label>
      <textarea type="text" class="form-control" ng-model="report.rejectionnotes" id="inputRejectionNotes" readonly></textarea>
    </fieldset>
    <!-- begin lineitems -->
    <fieldset ng-repeat="li in report.lineitems" class="col-sm-offset-1">
      <legend>Line Item </legend>
      <ng-form name="categoryForm">
          <label for="category"> Category</label>
          <select class="form-control" name="category" ng-model="li.category">
            <option value="Mileage">Mileage</option>
            <option value="Per Diem">Per Diem</option>
            <option value="Lodging">Lodging</option>
            <option value="Travel">Travel</option>
            <option value="Meals">Meals</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Parking">Parking</option>
            <option value="Other">Other</option>
          </select>
      </ng-form>
      <ng-form name="valueForm">
        <fieldset class="form-group" ng-class="{'has-error' : valueForm.value.$invalid && !valueForm.value.$pristine}">
          <label> Value</label>
          <input type="value" class="form-control" name="value" ng-model="li.value" ng-pattern="/^[0-9]+\.[0-9]{2}$/" required> </input>
          <p ng-show="valueForm.value.$invalid && !valueForm.value.$pristine" class="help-block"> Must be a dollar value </p>
        </fieldset>
      </ng-form>
      <ng-form name="dateForm">
        <label> Date</label>
        <input type="date" class="form-control" name="date" ng-model="li.date" required> </input>
      </ng-form>
    </fieldset>
    <!-- end lineitems -->
    <fieldset class="form-group">
      <label for="notes">Notes</label>
      <textarea class="form-control" id="inputNotes" ng-model="report.notes"></textarea>
    </fieldset>
    <button class="btn btn-primary">Cancel</button>
    <button type="button" class="btn btn-primary"  ng-click="putReport(1)" >Save</button>
    <button type="button" class="btn btn-primary"  ng-click="putReport(2)" >Submit</button>
  </form>
</div> <!-- /container -->
<!-- ng-disabled="reportForm.$invalid" -->
